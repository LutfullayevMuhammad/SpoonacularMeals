package uz.lutfullayevmuhammad.lesson63.ui.mainimport android.util.Logimport androidx.lifecycle.MutableLiveDataimport androidx.lifecycle.ViewModelimport kotlinx.coroutines.CoroutineScopeimport kotlinx.coroutines.Dispatchersimport kotlinx.coroutines.launchimport uz.lutfullayevmuhammad.lesson63.core.helper.ResultWrapperimport uz.lutfullayevmuhammad.lesson63.core.models.error.UniversalErrorimport uz.lutfullayevmuhammad.lesson63.core.repo.HomeRepoimport javax.inject.Injectclass MainViewModel @Inject constructor(    var repo: HomeRepo) : ViewModel() {    val searchLiveData=MutableLiveData<ArrayList<uz.lutfullayevmuhammad.lesson63.core.models.search.Result>>()    val errorLiveData=MutableLiveData<UniversalError?>()    val networkErrorLiveData=MutableLiveData<Nothing>()    fun searchMeal(name: String) {        CoroutineScope(Dispatchers.IO).launch {            val response = repo.searchData(name)            when (response) {                is ResultWrapper.Success->{                    searchLiveData.postValue(response.response?.results)                }                is ResultWrapper.ErrorResponse->{                    errorLiveData.postValue(response.errorResponse)                }                is ResultWrapper.NetworkError->{                    networkErrorLiveData.postValue(null)                }            }        }    }    override fun onCleared() {        Log.d("MainViewModelTAG", "onCleared: ")        super.onCleared()    }}